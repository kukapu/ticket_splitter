# TicketSplitter - Variables de Entorno para Producción (Dokploy)
# Configura estas variables en Dokploy en la sección de Environment Variables

# ============================================
# VARIABLES REQUERIDAS
# ============================================

# OpenRouter API Key - REQUERIDO
# Obtén una en: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OpenRouter Model - OPCIONAL
# Modelo de IA a usar para el análisis de tickets
# Por defecto: google/gemini-3-flash-preview
# Otros modelos disponibles en: https://openrouter.ai/models
OPENROUTER_MODEL=google/gemini-3-flash-preview

# Secret Key Base - REQUERIDO
# Genera una nueva con: mix phx.gen.secret
# IMPORTANTE: NO uses el valor de ejemplo, genera uno nuevo
SECRET_KEY_BASE=ieUmP9pN8jS+rdGsTXJjKz/+D0qSYMc5pHZ+NhQv2gagZnvw6a0hzEM33QCSUMGl

# Database URL - REQUERIDO
# Formato: postgresql://usuario:contraseña@host:puerto/nombre_base_datos
# En Dokploy, usa el nombre del servicio de PostgreSQL como host
# Ejemplo: postgresql://kukapu:kukapu@ticketspliter-db-iozduz:5432/ticketsplitter
DATABASE_URL=postgresql://user:password@postgres-service-name:5432/database_name

# Dominio de la aplicación - REQUERIDO
# Este es el dominio público donde se accederá a la aplicación
PHX_HOST=ticketsplitter.kukapu.dev

# ============================================
# VARIABLES OPCIONALES
# ============================================

# Puerto de la aplicación (por defecto: 4000)
PORT=4000

# Habilitar servidor Phoenix (debe ser true en producción)
PHX_SERVER=true

# Tamaño del pool de conexiones a la base de datos (por defecto: 10)
# POOL_SIZE=10

# Habilitar IPv6 para Ecto (por defecto: false)
# ECTO_IPV6=false

# ============================================
# MINIO/S3 CONFIGURATION
# ============================================

# MinIO Access Credentials
# Obtén estos valores desde la consola de MinIO
MINIO_ACCESS_KEY=your_access_key
MINIO_SECRET_KEY=your_secret_key

# MinIO Server Configuration
# MINIO_SCHEME: Protocolo de conexión (https para producción con SSL, http sin SSL)
# IMPORTANTE: NO incluyas "://" al final, solo el protocolo
MINIO_SCHEME=https

# MINIO_HOST: Dominio del API S3 (NO incluyas https:// aquí, solo el hostname)
# Ejemplo: s3.kukapu.dev (usa el dominio del API, NO el de la consola)
MINIO_HOST=YOUR_MINIO_HOST_PLACEHOLDER

# MINIO_PORT: Puerto de conexión
# - 443 si usas proxy reverso con SSL (Nginx/Caddy/Traefik) - RECOMENDADO
# - 9000 si accedes directamente al puerto de MinIO
MINIO_PORT=443

# MINIO_REGION: Región de MinIO (requerido para AWS Signature v4)
# Para MinIO auto-hospedado, usa "us-east-1" (valor por defecto)
MINIO_REGION=us-east-1

# MINIO_BUCKET: Nombre del bucket donde se almacenarán las imágenes
# Asegúrate de que este bucket ya esté creado en MinIO
MINIO_BUCKET=ticket-splitter

# MINIO_PUBLIC_URL: URL pública completa para acceder a las imágenes
# Formato: https://[TU_DOMINIO_S3]/[NOMBRE_BUCKET]
# Ejemplo: https://s3.kukapu.dev/ticket-splitter
MINIO_PUBLIC_URL=https://YOUR_MINIO_HOST_PLACEHOLDER/ticket-splitter

# ============================================
# DESARROLLO LOCAL (OPCIONAL)
# ============================================
# Si estás desarrollando localmente con MinIO en Docker,
# puedes usar estos valores (descomenta las líneas):

# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin
# MINIO_SCHEME=http
# MINIO_HOST=localhost
# MINIO_PORT=9000
# MINIO_REGION=us-east-1
# MINIO_BUCKET=ticket-splitter
# MINIO_PUBLIC_URL=http://localhost:9000/ticket-splitter

